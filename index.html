üéÉ„É¢„Çπ„Éû„É≥ü¶á
sakura_kitsu
üß° ÁßÅ„ÅØÂΩºÂ•≥„ÇíÊÑõ„Åó„Å¶„ÅÑ„Çã

Kit
APP
 ‚Äî 6/18/25, 3:46‚ÄØAM
e
hey~
Kit
APP
 ‚Äî 8/14/25, 12:26‚ÄØPM
‚ö†Ô∏è You have been warned
Reason
yes
Total Full Warns
1
‚ö†Ô∏è You have been warned
Reason
d
Total Full Warns
1
Kit
APP
 ‚Äî 10/23/25, 8:00‚ÄØPM
gooner
üéÉ„É¢„Çπ„Éû„É≥ü¶á

 ‚Äî 2:30‚ÄØPM
<!-- === Top-Down Shooter (single-file) ===
     Save this as: topdown_shooter.html
     Open in any modern browser. Have fun! Hewwo :3 üéÆ
-->

<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Arcade Bite ‚Äî Top‚ÄëDown Shooter</title>
  <style>
    /* === Styles: clean, minimal HUD and layout === */
    html,body{height:100%;margin:0;background:#111;font-family:Inter,system-ui,Segoe UI,Roboto,Arial,sans-serif;color:#eee}
    #gameWrap{position:fixed;inset:0;display:flex;align-items:center;justify-content:center}
    canvas{background:linear-gradient(#0b0b0f,#07111a);border-radius:12px;box-shadow:0 10px 30px rgba(0,0,0,.6);}

    /* HUD overlay */
    .hud{position:absolute;left:20px;top:20px;color:#fff;font-weight:600;text-shadow:0 2px 6px rgba(0,0,0,.7)}
    .hud .row{margin-bottom:8px}
    .money{font-size:18px}
    .wave{font-size:14px;opacity:.9}

    /* Right-side panel */
    .panel{position:absolute;right:20px;top:20px;width:260px;background:linear-gradient(180deg,rgba(255,255,255,.03),rgba(255,255,255,.01));border:1px solid rgba(255,255,255,.04);padding:12px;border-radius:10px}
    .panel h3{margin:0 0 8px 0;font-size:15px}
    .panel button{display:block;width:100%;padding:8px;margin:6px 0;border-radius:8px;border:0;background:#1c1f2a;color:#fff;cursor:pointer;font-weight:700}
    .panel .small{font-size:12px;opacity:.9}

    /* Shop overlay */
    #shop{position:fixed;left:50%;top:50%;transform:translate(-50%,-50%);background:#0f1318;border-radius:12px;padding:18px;border:1px solid rgba(255,255,255,.04);width:520px;max-width:96%;display:none;z-index:20}
    #shop h2{margin:0 0 10px;color:#ffd15a}
    .upgrade{display:flex;align-items:center;justify-content:space-between;padding:8px;border-radius:8px;margin:6px 0;background:linear-gradient(90deg,rgba(255,255,255,.015),transparent)}
    .upgrade .meta{max-width:68%}
    .upgrade button{padding:8px 12px;border-radius:8px;border:0;background:#2a6eff;color:#fff;cursor:pointer}

    #footerTips{position:fixed;left:50%;transform:translateX(-50%);bottom:14px;color:#bbb;font-size:13px}

    /* small screen tweaks */
    @media (max-width:640px){.panel{display:none}} 
  </style>
</head>
<body>
  <div id="gameWrap">
    <canvas id="c" width="1000" height="700"></canvas>

    <div class="hud" id="hudLeft">
      <div class="row money">üí∞ <span id="money">0</span></div>
      <div class="row wave">Wave: <span id="wave">0</span> &nbsp; | &nbsp; Kills: <span id="kills">0</span></div>
      <div class="row">‚ù§ <span id="hp">100</span> / <span id="maxHp">100</span></div>
    </div>

    <div class="panel">
      <h3>Controls</h3>
      <div class="small">WASD to move ‚Ä¢ Mouse to aim ‚Ä¢ Left click to shoot ‚Ä¢ Hold to autofire ‚Ä¢ <strong>S</strong> to open shop ‚Ä¢ P to pause</div>
      <h3 style="margin-top:12px">Stats</h3>
      <div class="small">Damage: <span id="statDamage">1</span> ‚Ä¢ Fire Rate: <span id="statFR">3</span>/s ‚Ä¢ Speed: <span id="statSpeed">3.0</span></div>
      <button id="btnShop">Open Shop (S)</button>
      <button id="btnRestart" style="background:#ff6b6b;margin-top:8px">Restart Game</button>
    </div>

  </div>

  <div id="shop">
    <h2>Upgrade Shop ‚ú®</h2>
    <div class="upgrade"><div class="meta"><strong>Damage</strong><div class="small">Increase bullet damage (+1)</div></div><div><button data-action="buy" data-type="damage">Buy ‚Äî <span class="cost">50</span></button></div></div>
    <div class="upgrade"><div class="meta"><strong>Fire Rate</strong><div class="small">Shoot more bullets per second (+0.5/s)</div></div><div><button data-action="buy" data-type="firerate">Buy ‚Äî <span class="cost">60</span></button></div></div>
    <div class="upgrade"><div class="meta"><strong>Speed</strong><div class="small">Move faster (+0.4)</div></div><div><button data-action="buy" data-type="speed">Buy ‚Äî <span class="cost">70</span></button></div></div>
    <div class="upgrade"><div class="meta"><strong>Max HP</strong><div class="small">Increase max HP (+15)</div></div><div><button data-action="buy" data-type="maxhp">Buy ‚Äî <span class="cost">80</span></button></div></div>
    <div class="upgrade"><div class="meta"><strong>Bullet Speed</strong><div class="small">Bullets travel faster (+1)</div></div><div><button data-action="buy" data-type="bulletspeed">Buy ‚Äî <span class="cost">40</span></button></div></div>
    <div style="display:flex;gap:8px;margin-top:12px">
      <button id="closeShop" style="flex:1;background:#6bffb1;color:#000;font-weight:800">Close</button>
      <button id="upgradeAll" style="flex:1;background:#ffd15a;color:#000;font-weight:800">Auto-Select (Best Value)</button>
    </div>
  </div>

  <div id="footerTips">Tip: Survive waves to earn more money ‚Äî defeat big enemies for huge payouts! üåü</div>

  <script>
    // === JavaScript Game: Arcade Bite ===
    (()=>{
      // Helpers
      const rand = (a,b)=>Math.random()*(b-a)+a;
      const clamp = (v,a,b)=>Math.max(a,Math.min(b,v));

      // Canvas & context
      const canvas = document.getElementById('c');
      const ctx = canvas.getContext('2d');
      function resize(){
        const scale = Math.min(window.innerWidth-40,1200);
        canvas.width = Math.min(1200, window.innerWidth - 40);
        canvas.height = Math.min(800, window.innerHeight - 120);
      }
      window.addEventListener('resize',resize); resize();

      // Game state
      let running = true;
      let paused = false;
      let lastTime = 0;
      let mouse = {x:canvas.width/2,y:canvas.height/2,down:false};
... (330 lines left)
Collapse
message.txt
20 KB
Ôªø
Kit
APP
Kit
#0202
<!-- === Top-Down Shooter (single-file) ===
     Save this as: topdown_shooter.html
     Open in any modern browser. Have fun! Hewwo :3 üéÆ
-->

<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Arcade Bite ‚Äî Top‚ÄëDown Shooter</title>
  <style>
    /* === Styles: clean, minimal HUD and layout === */
    html,body{height:100%;margin:0;background:#111;font-family:Inter,system-ui,Segoe UI,Roboto,Arial,sans-serif;color:#eee}
    #gameWrap{position:fixed;inset:0;display:flex;align-items:center;justify-content:center}
    canvas{background:linear-gradient(#0b0b0f,#07111a);border-radius:12px;box-shadow:0 10px 30px rgba(0,0,0,.6);}

    /* HUD overlay */
    .hud{position:absolute;left:20px;top:20px;color:#fff;font-weight:600;text-shadow:0 2px 6px rgba(0,0,0,.7)}
    .hud .row{margin-bottom:8px}
    .money{font-size:18px}
    .wave{font-size:14px;opacity:.9}

    /* Right-side panel */
    .panel{position:absolute;right:20px;top:20px;width:260px;background:linear-gradient(180deg,rgba(255,255,255,.03),rgba(255,255,255,.01));border:1px solid rgba(255,255,255,.04);padding:12px;border-radius:10px}
    .panel h3{margin:0 0 8px 0;font-size:15px}
    .panel button{display:block;width:100%;padding:8px;margin:6px 0;border-radius:8px;border:0;background:#1c1f2a;color:#fff;cursor:pointer;font-weight:700}
    .panel .small{font-size:12px;opacity:.9}

    /* Shop overlay */
    #shop{position:fixed;left:50%;top:50%;transform:translate(-50%,-50%);background:#0f1318;border-radius:12px;padding:18px;border:1px solid rgba(255,255,255,.04);width:520px;max-width:96%;display:none;z-index:20}
    #shop h2{margin:0 0 10px;color:#ffd15a}
    .upgrade{display:flex;align-items:center;justify-content:space-between;padding:8px;border-radius:8px;margin:6px 0;background:linear-gradient(90deg,rgba(255,255,255,.015),transparent)}
    .upgrade .meta{max-width:68%}
    .upgrade button{padding:8px 12px;border-radius:8px;border:0;background:#2a6eff;color:#fff;cursor:pointer}

    #footerTips{position:fixed;left:50%;transform:translateX(-50%);bottom:14px;color:#bbb;font-size:13px}

    /* small screen tweaks */
    @media (max-width:640px){.panel{display:none}} 
  </style>
</head>
<body>
  <div id="gameWrap">
    <canvas id="c" width="1000" height="700"></canvas>

    <div class="hud" id="hudLeft">
      <div class="row money">üí∞ <span id="money">0</span></div>
      <div class="row wave">Wave: <span id="wave">0</span> &nbsp; | &nbsp; Kills: <span id="kills">0</span></div>
      <div class="row">‚ù§ <span id="hp">100</span> / <span id="maxHp">100</span></div>
    </div>

    <div class="panel">
      <h3>Controls</h3>
      <div class="small">WASD to move ‚Ä¢ Mouse to aim ‚Ä¢ Left click to shoot ‚Ä¢ Hold to autofire ‚Ä¢ <strong>S</strong> to open shop ‚Ä¢ P to pause</div>
      <h3 style="margin-top:12px">Stats</h3>
      <div class="small">Damage: <span id="statDamage">1</span> ‚Ä¢ Fire Rate: <span id="statFR">3</span>/s ‚Ä¢ Speed: <span id="statSpeed">3.0</span></div>
      <button id="btnShop">Open Shop (S)</button>
      <button id="btnRestart" style="background:#ff6b6b;margin-top:8px">Restart Game</button>
    </div>

  </div>

  <div id="shop">
    <h2>Upgrade Shop ‚ú®</h2>
    <div class="upgrade"><div class="meta"><strong>Damage</strong><div class="small">Increase bullet damage (+1)</div></div><div><button data-action="buy" data-type="damage">Buy ‚Äî <span class="cost">50</span></button></div></div>
    <div class="upgrade"><div class="meta"><strong>Fire Rate</strong><div class="small">Shoot more bullets per second (+0.5/s)</div></div><div><button data-action="buy" data-type="firerate">Buy ‚Äî <span class="cost">60</span></button></div></div>
    <div class="upgrade"><div class="meta"><strong>Speed</strong><div class="small">Move faster (+0.4)</div></div><div><button data-action="buy" data-type="speed">Buy ‚Äî <span class="cost">70</span></button></div></div>
    <div class="upgrade"><div class="meta"><strong>Max HP</strong><div class="small">Increase max HP (+15)</div></div><div><button data-action="buy" data-type="maxhp">Buy ‚Äî <span class="cost">80</span></button></div></div>
    <div class="upgrade"><div class="meta"><strong>Bullet Speed</strong><div class="small">Bullets travel faster (+1)</div></div><div><button data-action="buy" data-type="bulletspeed">Buy ‚Äî <span class="cost">40</span></button></div></div>
    <div style="display:flex;gap:8px;margin-top:12px">
      <button id="closeShop" style="flex:1;background:#6bffb1;color:#000;font-weight:800">Close</button>
      <button id="upgradeAll" style="flex:1;background:#ffd15a;color:#000;font-weight:800">Auto-Select (Best Value)</button>
    </div>
  </div>

  <div id="footerTips">Tip: Survive waves to earn more money ‚Äî defeat big enemies for huge payouts! üåü</div>

<script>
  // === Utilities & Setup ===
  (() => {
    // small helpers
    const rand = (a,b)=>Math.random()*(b-a)+a;
    const clamp = (v,a,b)=>Math.max(a,Math.min(b,v));
    const dist = (a,b)=>Math.hypot(a.x-b.x,a.y-b.y);
    const AXIS = { LEFT:'a', RIGHT:'d', UP:'w', DOWN:'s' };

    // canvas + resize
    const canvas = document.getElementById('c');
    const ctx = canvas.getContext('2d');
    function resize(){
      canvas.width = Math.min(1200, window.innerWidth - 40);
      canvas.height = Math.min(800, window.innerHeight - 120);
    }
    window.addEventListener('resize', resize);
    resize();

    // state
    let running = true;
    let paused = false;
    let lastTime = performance.now();
    let mouse = {x: canvas.width/2, y: canvas.height/2, down: false};
    let keys = {};

    // UI elements (preserved)
    const moneyEl = document.getElementById('money');
    const waveEl = document.getElementById('wave');
    const killsEl = document.getElementById('kills');
    const hpEl = document.getElementById('hp');
    const maxHpEl = document.getElementById('maxHp');
    const statDamage = document.getElementById('statDamage');
    const statFR = document.getElementById('statFR');
    const statSpeed = document.getElementById('statSpeed');

    // audio context + simple beep
    const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
    function beep(freq, duration=0.06, volume=0.03){
      try {
        const o = audioCtx.createOscillator();
        const g = audioCtx.createGain();
        o.type = 'sine'; o.frequency.value = freq;
        g.gain.value = volume;
        o.connect(g); g.connect(audioCtx.destination);
        o.start();
        o.stop(audioCtx.currentTime + duration);
      } catch(e){}
    }

    // player object (preserved structure)
    const player = {
      x: canvas.width/2,
      y: canvas.height/2,
      r: 14,
      speed: 3,
      maxHp: 100,
      hp: 100,
      damage: 4,
      fireRate: 3, // bullets per second (higher = faster)
      bulletSpeed: 8,
      money: 0,
      score: 0,
      kills: 0,
      cooldown: 0 // seconds until next shot
    };

    // world arrays
    let bullets = [], enemies = [], particles = [], coins = [];
    let wave = 0, waveTimer = 0, spawning = false, spawnCount = 0;
    const MAX_ENEMIES_PER_WAVE = 12;

    // === Input Handling ===
    // Movement keys: W A S D (W up, A left, S down, D right)
    // Shop: O (open/close)
    // Pause: P (toggle)
    canvas.addEventListener('mousemove', e=>{
      const rect = canvas.getBoundingClientRect();
      mouse.x = (e.clientX - rect.left) * (canvas.width / rect.width);
      mouse.y = (e.clientY - rect.top) * (canvas.height / rect.height);
    });
    canvas.addEventListener('mousedown', ()=>{ mouse.down = true; audioCtx.resume(); });
    window.addEventListener('mouseup', ()=>{ mouse.down = false; });

    window.addEventListener('keydown', e => {
      const k = (e.key || '').toLowerCase();
      keys[k] = true;

      // Shop: O opens/closes the shop
      if(k === 'o'){ toggleShop(); }

      // optional pause: P toggles paused state
      if(k === 'p'){ paused = !paused; }

      // prevent default arrow scrolling when using WASD sometimes
      if(['w','a','s','d','o','p'].includes(k)) e.preventDefault();
    });
    window.addEventListener('keyup', e => {
      keys[(e.key || '').toLowerCase()] = false;
    });

    // === Shop & UI wiring (preserve element IDs & behavior) ===
    const shop = document.getElementById('shop');
    const btnShop = document.getElementById('btnShop');
    const closeShop = document.getElementById('closeShop');
    const btnRestart = document.getElementById('btnRestart');
    const upgradeAll = document.getElementById('upgradeAll');

    // update small instructions in panel (if present)
    const panelSmall = document.querySelector('.panel .small');
    if(panelSmall){
      panelSmall.innerHTML = 'WASD to move ‚Ä¢ Mouse to aim ‚Ä¢ Left click to shoot ‚Ä¢ Hold to autofire ‚Ä¢ <strong>O</strong> to open shop ‚Ä¢ P to pause';
    }
    if(btnShop) btnShop.innerText = "Open Shop (O)";

    if(btnShop) btnShop.addEventListener('click', toggleShop);
    if(closeShop) closeShop.addEventListener('click', toggleShop);
    if(btnRestart) btnRestart.addEventListener('click', ()=>{ location.reload(); });
    if(upgradeAll) upgradeAll.addEventListener('click', ()=>{ autoBuy(); });

    function toggleShop(){
      if(!shop) return;
      if(shop.style.display === 'block'){
        shop.style.display = 'none';
        paused = false;
      } else {
        shop.style.display = 'block';
        paused = true;
      }
    }

    // === Entities: bullets, enemies, coins, particles ===
    function spawnEnemy(type){
      // spawn at random edge
      let edge = Math.floor(rand(0,4));
      let ex,ey;
      if(edge === 0){ ex = -20; ey = rand(0, canvas.height); }
      if(edge === 1){ ex = canvas.width + 20; ey = rand(0, canvas.height); }
      if(edge === 2){ ex = rand(0, canvas.width); ey = -20; }
      if(edge === 3){ ex = rand(0, canvas.width); ey = canvas.height + 20; }

      const hpBase = 8 + wave*2;
      const spdBase = 0.6 + Math.min(1.6, wave*0.04);
      enemies.push({
        x: ex, y: ey,
        vx: 0, vy: 0,
        r: 12 + Math.min(8, Math.floor(wave/4)),
        hp: hpBase,
        maxHp: hpBase,
        speed: spdBase,
        damage: 8 + Math.floor(wave/2),
        color: `hsl(${rand(0,360)},60%,40%)`
      });
    }

    function spawnCoin(x,y,amount=1){
      coins.push({ x, y, vx: rand(-1,1), vy: rand(-2,-0.5), r:6, amount });
    }

    function spawnParticle(x,y,dx,dy,l,ttl=40){
      particles.push({ x,y, vx:dx, vy:dy, life:ttl, max:ttl, size:l });
    }

    // === Shooting ===
    function shootBullet(x,y,tx,ty){
      const ang = Math.atan2(ty-y, tx-x);
      bullets.push({
        x, y,
        vx: Math.cos(ang) * player.bulletSpeed,
        vy: Math.sin(ang) * player.bulletSpeed,
        r: 4,
        dmg: player.damage
      });
      // light sound
      beep(800, 0.04, 0.02);
    }

    // === Game update & draw ===
    function update(dt){
      if(paused) return;

      // Player movement using WASD (W = up, A = left, S = down, D = right)
      let dx = 0, dy = 0;
      if(keys[AXIS.LEFT]) dx -= 1;
      if(keys[AXIS.RIGHT]) dx += 1;
      if(keys[AXIS.UP]) dy -= 1;
      if(keys[AXIS.DOWN]) dy += 1;
      const len = Math.hypot(dx,dy) || 1;
      player.x += (dx/len) * player.speed;
      player.y += (dy/len) * player.speed;
      player.x = clamp(player.x, player.r, canvas.width - player.r);
      player.y = clamp(player.y, player.r, canvas.height - player.r);

      // Shooting auto-fire based on fireRate
      if(player.cooldown > 0) player.cooldown -= dt;
      if(mouse.down && player.cooldown <= 0){
        shootBullet(player.x, player.y, mouse.x, mouse.y);
        player.cooldown = 1 / player.fireRate;
      }

      // bullets update
      for(let i = bullets.length - 1; i >= 0; i--){
        const b = bullets[i];
        b.x += b.vx;
        b.y += b.vy;
        // out of bounds
        if(b.x < -50 || b.x > canvas.width + 50 || b.y < -50 || b.y > canvas.height + 50){
          bullets.splice(i,1); continue;
        }
        // collision with enemies
        for(let j = enemies.length - 1; j >= 0; j--){
          const e = enemies[j];
          if(Math.hypot(b.x - e.x, b.y - e.y) < b.r + e.r){
            // hit
            e.hp -= b.dmg;
            spawnParticle(b.x, b.y, b.vx*0.08, b.vy*0.08, 2, 20);
            bullets.splice(i,1);
            if(e.hp <= 0){
              // enemy killed
              enemies.splice(j,1);
              player.kills++;
              player.score += Math.max(1, Math.floor(e.maxHp/2));
              player.money += Math.max(1, Math.floor(e.maxHp/3));
              // spawn coin + particles
              spawnCoin(e.x, e.y, Math.max(1, Math.floor(e.maxHp/10)));
              for(let p=0;p<10;p++){
                spawnParticle(e.x, e.y, rand(-2,2), rand(-2,2), rand(1,3), 30);
              }
              beep(300, 0.06, 0.035);
            }
            break; // bullet consumed
          }
        }
      }

      // enemies update
      enemies.forEach(e=>{
        const ang = Math.atan2(player.y - e.y, player.x - e.x);
        e.vx += Math.cos(ang) * 0.02 * e.speed;
        e.vy += Math.sin(ang) * 0.02 * e.speed;
        // clamp velocity for reasonable movement
        e.vx = clamp(e.vx, -e.speed*4, e.speed*4);
        e.vy = clamp(e.vy, -e.speed*4, e.speed*4);
        e.x += e.vx;
        e.y += e.vy;

        // collision with player - damage and knockback
        const d = Math.hypot(e.x - player.x, e.y - player.y);
        if(d < e.r + player.r){
          // push enemy out a bit
          const overlap = e.r + player.r - d;
          const nx = (e.x - player.x) / (d || 1), ny = (e.y - player.y) / (d || 1);
          e.x += nx * overlap;
          e.y += ny * overlap;
          // player takes damage
          player.hp -= e.damage * 0.02;
          // small hit particle
          spawnParticle(player.x + nx*player.r, player.y + ny*player.r, nx*1.5, ny*1.5, 3, 20);
          if(player.hp <= 0){
            player.hp = 0;
            running = false;
            paused = true;
            // we'll let draw() show the death message
          }
        }
      });

      // coins update and pickup
      for(let i = coins.length - 1; i >= 0; i--){
        const c = coins[i];
        c.vy += 0.06; // gravity
        c.x += c.vx;
        c.y += c.vy;
        c.vx *= 0.985;
        c.vy *= 0.995;

        if(Math.hypot(c.x - player.x, c.y - player.y) < c.r + player.r + 6){
          player.money += c.amount;
          coins.splice(i,1);
          beep(1000, 0.04, 0.02);
        } else if(c.y > canvas.height + 50){
          coins.splice(i,1);
        }
      }

      // particles update
      for(let i = particles.length - 1; i >= 0; i--){
        const p = particles[i];
        p.life--;
        p.x += p.vx;
        p.y += p.vy;
        p.vy += 0.02; // slight gravity
        if(p.life <= 0) particles.splice(i,1);
      }

      // wave spawn logic
      if(!spawning && enemies.length === 0){
        waveTimer += dt;
        if(waveTimer > 1.2){
          startWave();
          waveTimer = 0;
        }
      }
      // periodically spawn while 'spawning' is true
      if(spawning && spawnCount > 0){
        // spawn a few per second
        if(Math.random() < dt * 2.5){
          spawnEnemy();
          spawnCount--;
          if(spawnCount <= 0) spawning = false;
        }
      }

      // UI updates
      if(moneyEl) moneyEl.innerText = Math.floor(player.money);
      if(waveEl) waveEl.innerText = wave;
      if(killsEl) killsEl.innerText = player.kills;
      if(hpEl) hpEl.innerText = Math.max(0,Math.round(player.hp));
      if(maxHpEl) maxHpEl.innerText = player.maxHp;
      if(statDamage) statDamage.innerText = player.damage.toFixed(1);
      if(statFR) statFR.innerText = player.fireRate.toFixed(2);
      if(statSpeed) statSpeed.innerText = player.speed.toFixed(2);
    }

    function draw(){
      // background
      ctx.clearRect(0,0,canvas.width,canvas.height);

      // draw particles (behind)
      particles.forEach(p=>{
        ctx.globalAlpha = clamp(p.life/p.max, 0, 1);
        ctx.fillStyle = 'rgba(255,255,255,0.9)';
        ctx.beginPath();
        ctx.arc(p.x, p.y, p.size, 0, Math.PI*2);
        ctx.fill();
      });
      ctx.globalAlpha = 1;

      // draw coins
      coins.forEach(c=>{
        ctx.fillStyle = '#ffd36b';
        ctx.beginPath();
        ctx.arc(c.x, c.y, c.r, 0, Math.PI*2);
        ctx.fill();
        ctx.strokeStyle = 'rgba(0,0,0,0.12)';
        ctx.stroke();
      });

      // draw enemies
      enemies.forEach(e=>{
        ctx.fillStyle = e.color;
        ctx.beginPath();
        ctx.arc(e.x, e.y, e.r, 0, Math.PI*2);
        ctx.fill();
        // hp bar
        ctx.fillStyle = 'rgba(0,0,0,0.6)';
        ctx.fillRect(e.x - e.r, e.y - e.r - 8, e.r*2, 4);
        ctx.fillStyle = '#4caf50';
        ctx.fillRect(e.x - e.r, e.y - e.r - 8, (e.hp / e.maxHp) * e.r*2, 4);
      });

      // draw bullets
      bullets.forEach(b=>{
        ctx.fillStyle = '#e2f2ff';
        ctx.beginPath();
        ctx.arc(b.x, b.y, b.r, 0, Math.PI*2);
        ctx.fill();
      });

      // draw player
      ctx.save();
      // aim rotation
      const ang = Math.atan2(mouse.y - player.y, mouse.x - player.x);
      ctx.translate(player.x, player.y);
      ctx.rotate(ang);
      // body
      ctx.fillStyle = '#ffffff';
      ctx.beginPath();
      ctx.arc(0, 0, player.r, 0, Math.PI*2);
      ctx.fill();
      // "gun" triangle
      ctx.fillStyle = '#333';
      ctx.beginPath();
      ctx.moveTo(player.r - 2, 0);
      ctx.lineTo(player.r + 10, -6);
      ctx.lineTo(player.r + 10, 6);
      ctx.closePath();
      ctx.fill();
      ctx.restore();

      // draw HUD / overlay messages
      ctx.fillStyle = 'rgba(0,0,0,0.6)';
      ctx.font = '14px system-ui, Arial';
      ctx.fillText(`Money: ${Math.floor(player.money)}`, 12, 20);
      ctx.fillText(`Wave: ${wave}`, 12, 40);
      ctx.fillText(`Kills: ${player.kills}`, 12, 60);

      // death / paused text
      if(!running){
        ctx.fillStyle = 'rgba(0,0,0,0.6)';
        ctx.fillRect(0, canvas.height/2 - 60, canvas.width, 120);
        ctx.fillStyle = '#fff';
        ctx.font = '36px system-ui, Arial';
        ctx.textAlign = 'center';
        ctx.fillText('You died! Press Restart to try again.', canvas.width/2, canvas.height/2);
        ctx.textAlign = 'left';
      } else if(paused){
        ctx.fillStyle = 'rgba(0,0,0,0.45)';
        ctx.fillRect(0, 0, canvas.width, canvas.height);
        ctx.fillStyle = '#fff';
        ctx.font = '28px system-ui, Arial';
        ctx.textAlign = 'center';
        ctx.fillText('PAUSED', canvas.width/2, canvas.height/2);
        ctx.textAlign = 'left';
      }
    }

    // === Wave control ===
    function startWave(){
      wave++;
      spawning = true;
      spawnCount = Math.min(MAX_ENEMIES_PER_WAVE, 3 + Math.floor(wave * 1.2));
      // small reward for surviving
      player.money += Math.floor(Math.max(1, wave * 2));
      beep(200 + Math.min(800, wave*12), 0.12, 0.04);
    }

    // === Simple shop functionality / upgrades (hooks preserved) ===
    function autoBuy(){
      // naive auto-upgrader: buy damage if possible, else fireRate, else speed
      if(player.money >= 200){
        player.money -= 200; player.damage += 1; return;
      }
      if(player.money >= 150){
        player.money -= 150; player.fireRate += 0.2; return;
      }
      if(player.money >= 100){
        player.money -= 100; player.speed += 0.2; return;
      }
    }

    // hook for external shop UI to call (preserve existing naming)
    window.autoBuy = autoBuy;
    window.toggleShop = toggleShop;

    // === Main loop ===
    function loop(now){
      const dt = Math.min(0.05, (now - lastTime)/1000);
      lastTime = now;
      update(dt);
      draw();
      if(running || !paused) requestAnimationFrame(loop);
      else requestAnimationFrame(loop); // keep drawing paused/dead screen as well
    }
    requestAnimationFrame(loop);

    // === Preserve debugging / external getters if needed ===
    window._game = {
      player,
      bullets,
      enemies,
      coins,
      particles,
      startWave,
      toggleShop
    };

    // === Friendly end-note ===
    console.log('Arcade Bite script initialized ‚Äî Shop = O. Move with WASD. Hewwo :3');
  })();
</script>
</body>
</html>
